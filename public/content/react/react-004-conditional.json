{
    "id": "react-004-conditional",
    "title": "Conditional Rendering & Lists",
    "description": "Show/hide content and render dynamic lists with keys",
    "duration": 9,
    "difficulty": "beginner",
    "tags": ["jsx", "lists", "keys", "conditional"],
    "prerequisites": ["react-003-props"],
    "unlocks": ["react-005-forms"],
    "xp": 70,
    "steps": {
      "refresher": {
        "type": "markdown",
        "title": "Conditional Rendering in React",
        "content": "# Conditional Rendering\n\nReact lets you conditionally render JSX using JavaScript logic.\n\n## Techniques\n\n- `if` statements (outside return)\n- Ternary operator `condition ? A : B`\n- Logical && `condition && <Component />`\n- Null for nothing\n\n## Rendering Lists\n\nUse `.map()` to render arrays:\n\n```jsx\n{items.map(item => (\n  <Item key={item.id} {...item} />\n))}\n```\n\n**Keys help React identify which items changed!**\n\nLet's build a todo list ‚Üí"
      },
      "positive": {
        "type": "interactive-code",
        "title": "‚úÖ Positive Case: Todo List with Keys",
        "description": "Properly renders a list with unique keys.",
        "code": "const todos = [\n  { id: 1, text: 'Learn useState', completed: true },\n  { id: 2, text: 'Master useEffect', completed: true },\n  { id: 3, text: 'Build components', completed: false }\n];\n\nfunction TodoList() {\n  return (\n    <div className=\"p-8 max-w-md mx-auto\">\n      <h2 className=\"text-2xl font-bold mb-6\">My Todos</h2>\n      <ul className=\"space-y-3\">\n        {todos.map(todo => (\n          <li\n            key={todo.id}\n            className={`p-4 rounded-lg ${todo.completed ? 'bg-green-100 line-through' : 'bg-gray-100'}`}\n          >\n            {todo.text}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default TodoList;",
        "showPreview": true,
        "explanation": "Each item has a stable `key` ‚Üí React efficiently updates the list."
      },
      "negative": {
        "type": "debug-quiz",
        "title": "üêõ Common Mistake: Missing or Bad Keys",
        "description": "This list uses array index as key. Why is this problematic?",
        "code": "const items = ['Apple', 'Banana', 'Orange'];\n\nfunction BadList() {\n  return (\n    <ul>\n      {items.map((item, index) => (\n        <li key={index}>{item}</li>\n      ))}\n    </ul>\n  );\n}\n\nexport default BadList;",
        "question": "Why is using index as key bad practice?",
        "options": [
          { "id": "a", "text": "It's slower", "isCorrect": false },
          { "id": "b", "text": "When items reorder or insert, React may update wrong elements", "isCorrect": true, "explanation": "‚úÖ Correct! Index changes when list order changes ‚Üí React thinks items are different ‚Üí bugs in stateful lists." },
          { "id": "c", "text": "Keys must be strings", "isCorrect": false },
          { "id": "d", "text": "map doesn't allow index", "isCorrect": false }
        ],
        "lesson": "**Always use stable, unique IDs as keys** ‚Äî never array index for dynamic lists."
      },
      "task": {
        "type": "coding-task",
        "title": "üõ†Ô∏è Your Turn: Filtered Product List",
        "description": "Render products and show 'Out of stock' message conditionally.",
        "requirements": [
          "Map over products",
          "Show stock status with color",
          "If no products, show message",
          "Use proper keys"
        ],
        "starterCode": "const products = [\n  { id: 1, name: 'React Course', inStock: true },\n  { id: 2, name: 'TypeScript Pro', inStock: false },\n  { id: 3, name: 'Next.js Master', inStock: true }\n];\n\nfunction ProductList() {\n  // TODO: Add conditional rendering\n\n  return (\n    <div className=\"p-8\">\n      <h2 className=\"text-2xl font-bold mb-6\">Available Courses</h2>\n      {/* TODO: Render list or empty message */}\n    </div>\n  );\n}\n\nexport default ProductList;",
        "solution": "const products = [\n  { id: 1, name: 'React Course', inStock: true },\n  { id: 2, name: 'TypeScript Pro', inStock: false },\n  { id: 3, name: 'Next.js Master', inStock: true }\n];\n\nfunction ProductList() {\n  return (\n    <div className=\"p-8 max-w-md mx-auto\">\n      <h2 className=\"text-2xl font-bold mb-6\">Available Courses</h2>\n      {products.length === 0 ? (\n        <p className=\"text-gray-500 text-center py-8\">No courses available yet</p>\n      ) : (\n        <ul className=\"space-y-4\">\n          {products.map(product => (\n            <li key={product.id} className=\"p-4 bg-white rounded-lg shadow flex justify-between items-center\">\n              <span className=\"font-medium\">{product.name}</span>\n              <span className={`px-3 py-1 rounded-full text-sm ${product.inStock ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\n                {product.inStock ? 'In Stock' : 'Out of Stock'}\n              </span>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default ProductList;"
      },
      "challenge": {
        "type": "coding-challenge",
        "title": "üèÜ Challenge: Searchable User List",
        "description": "Filter users by name as user types.",
        "requirements": [
          "Input to search",
          "Filter list in real time",
          "Show 'No results' if empty",
          "Case-insensitive search"
        ],
        "starterCode": "import { useState } from 'react';\n\nconst users = [\n  { id: 1, name: 'Emma Wilson' },\n  { id: 2, name: 'Liam Park' },\n  { id: 3, name: 'Sophia Chen' },\n  { id: 4, name: 'Noah Kim' }\n];\n\nfunction SearchableList() {\n  const [search, setSearch] = useState('');\n\n  // TODO: Filter users\n\n  return (\n    <div className=\"p-8 max-w-md mx-auto\">\n      <input\n        type=\"text\"\n        value={search}\n        onChange={(e) => setSearch(e.target.value)}\n        placeholder=\"Search users...\"\n        className=\"w-full px-4 py-2 border rounded-lg mb-6\"\n      />\n      {/* TODO: Render filtered list */}\n    </div>\n  );\n}\n\nexport default SearchableList;",
        "solution": "import { useState } from 'react';\n\nconst users = [\n  { id: 1, name: 'Emma Wilson' },\n  { id: 2, name: 'Liam Park' },\n  { id: 3, name: 'Sophia Chen' },\n  { id: 4, name: 'Noah Kim' }\n];\n\nfunction SearchableList() {\n  const [search, setSearch] = useState('');\n\n  const filtered = users.filter(user =>\n    user.name.toLowerCase().includes(search.toLowerCase())\n  );\n\n  return (\n    <div className=\"p-8 max-w-md mx-auto\">\n      <input\n        type=\"text\"\n        value={search}\n        onChange={(e) => setSearch(e.target.value)}\n        placeholder=\"Search users...\"\n        className=\"w-full px-4 py-2 border rounded-lg mb-6 focus:ring-2 focus:ring-blue-500\"\n      />\n      {filtered.length === 0 ? (\n        <p className=\"text-center text-gray-500 py-8\">No users found</p>\n      ) : (\n        <ul className=\"space-y-3\">\n          {filtered.map(user => (\n            <li key={user.id} className=\"p-4 bg-white rounded-lg shadow\">\n              {user.name}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default SearchableList;"
      }
    }
  }

  