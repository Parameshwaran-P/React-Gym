{
  "id": "react-009-router",
  "title": "React Router",
  "description": "Navigate between pages/components in React using React Router",
  "duration": 10,
  "difficulty": "intermediate",
  "tags": ["router", "navigation", "react-router-dom"],
  "prerequisites": ["react-008-custom-hooks"],
  "unlocks": ["react-010-protected"],
  "xp": 70,
  "steps": {
    "refresher": {
      "type": "markdown",
      "title": "üè• Real-Life Story: Hospital Dashboard Navigation",
      "content": "# üè• Multi-Page Hospital App\n\nOur hospital has multiple panels:\n\n- **Home**: Overview of wards and patients\n- **Ward Details**: See patients in each ward\n- **Patient Profile**: Detailed patient info\n\n‚ùå Problem: Without routing, you would have to hide/show components manually, which is messy.\n\n---\n\n## üß† Why This Happens\n\n- React apps are **single-page by default**\n- Showing multiple views manually leads to lots of conditional rendering\n- Hard to manage browser back/forward behavior\n\n---\n\n## ‚úÖ React Solution: React Router\n\n`react-router-dom` allows you to:\n- Map URLs to components\n- Navigate programmatically or via links\n- Keep URL in sync with app state\n\nThink of it as the **hospital‚Äôs corridor map**: each room has a route, staff can easily navigate."
    },
    "positive": {
      "type": "interactive-code",
      "title": "‚úÖ Positive Case: Basic Routing",
      "description": "Set up Home, Ward, and Patient pages with React Router.",
      "code": "import { BrowserRouter as Router, Routes, Route, Link, useParams } from 'react-router-dom';\n\nfunction Home() {\n  return (\n    <div>\n      <h2>Hospital Home</h2>\n      <Link to='/ward/1' className='text-blue-600 underline'>Go to Ward 1</Link>\n    </div>\n  );\n}\n\nfunction Ward() {\n  const { wardId } = useParams();\n  return (\n    <div>\n      <h2>Ward {wardId}</h2>\n      <Link to='/patient/101' className='text-blue-600 underline'>View Patient 101</Link>\n    </div>\n  );\n}\n\nfunction Patient() {\n  const { patientId } = useParams();\n  return <h2>Patient Profile: {patientId}</h2>;\n}\n\nfunction HospitalApp() {\n  return (\n    <Router>\n      <nav className='p-4 bg-gray-100 space-x-4'>\n        <Link to='/'>Home</Link>\n        <Link to='/ward/1'>Ward 1</Link>\n      </nav>\n      <div className='p-6'>\n        <Routes>\n          <Route path='/' element={<Home />} />\n          <Route path='/ward/:wardId' element={<Ward />} />\n          <Route path='/patient/:patientId' element={<Patient />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default HospitalApp;",
      "showPreview": true,
      "explanation": "**How it works:**\n\n1. `BrowserRouter` wraps the app\n2. `Routes` contains all `Route`s with paths and components\n3. `Link` navigates without reloading\n4. `useParams` reads dynamic segments (e.g., wardId, patientId)\n\n‚úÖ **Key Rule:** Always wrap your app in `<BrowserRouter>` at the root."
    },
    "negative": {
      "type": "debug-quiz",
      "title": "üêõ Common Mistake: Using `<a>` Tags",
      "description": "Why is using `<a href='/ward/1'>` a problem in React Router?",
      "code": "<a href='/ward/1'>Go to Ward 1</a>",
      "question": "What's wrong with this approach?",
      "options": [
        {
          "id": "a",
          "text": "Nothing, it's fine",
          "isCorrect": false,
          "explanation": "Traditional `<a>` reloads the page, breaking SPA behavior."
        },
        {
          "id": "b",
          "text": "Reloads the page instead of SPA navigation",
          "isCorrect": true,
          "explanation": "‚úÖ Correct! Use `<Link>` instead for smooth client-side routing."
        },
        {
          "id": "c",
          "text": "React Router cannot handle multiple pages",
          "isCorrect": false,
          "explanation": "React Router can handle multiple pages via routes."
        },
        {
          "id": "d",
          "text": "useParams does not work with <a>",
          "isCorrect": false,
          "explanation": "Partially true, but main issue is page reload."
        }
      ],
      "correctCode": "<Link to='/ward/1'>Go to Ward 1</Link>"
    },
    "task": {
      "type": "coding-task",
      "title": "üõ†Ô∏è Your Turn: Hospital Navigation",
      "description": "Create Home, Ward, and Patient pages. Use Links to navigate and useParams to display dynamic content.",
      "requirements": [
        "Wrap app in `BrowserRouter`",
        "Create 3 pages: Home, Ward, Patient",
        "Use `<Link>` for navigation",
        "Use `useParams` for dynamic IDs"
      ],
      "starterCode": "import { BrowserRouter as Router, Routes, Route, Link } from 'react-router-dom';\n\nfunction Home() { return <div>TODO</div>; }\nfunction Ward() { return <div>TODO</div>; }\nfunction Patient() { return <div>TODO</div>; }\n\nfunction HospitalApp() {\n  return (\n    <Router>\n      <div>TODO</div>\n    </Router>\n  );\n}\n\nexport default HospitalApp;",
      "solution": "/* Same as Positive Case Code Above */",
      "hints": [
        "Use <Link to='...'> instead of <a href='...'>",
        "Wrap the app in <BrowserRouter>",
        "Dynamic paths use /ward/:wardId and /patient/:patientId"
      ],
      "tests": [
        "Home page renders",
        "Ward page shows correct wardId",
        "Patient page shows correct patientId",
        "Navigation works without page reload"
      ]
    },
    "challenge": {
      "type": "coding-challenge",
      "title": "üèÜ Challenge: Multi-Ward Hospital App",
      "description": "Build a hospital app with multiple wards and patients. Clicking a ward shows its patients; clicking a patient shows their profile.",
      "requirements": [
        "Dynamic routes for wards and patients",
        "Navigation links for wards and patients",
        "Patient data is passed using Context or Custom Hooks",
        "Back and forward navigation works correctly"
      ],
      "starterCode": "/* Use Router + Context + Custom Hook for patient data */",
      "solution": "/* Combine previous lessons: Router + usePatientManager + Context */",
      "hints": [
        "Map over wards and patients to create <Link>s",
        "Dynamic segments with useParams",
        "Use Context or custom hook to provide patient data globally"
      ],
      "tests": [
        "Ward list shows correctly",
        "Patient list shows per ward",
        "Patient profile displays correct info",
        "Navigation works smoothly without reload"
      ]
    }
  }
}
