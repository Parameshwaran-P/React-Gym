{
  "id": "react-012-forms",
  "title": "Forms in React",
  "description": "Learn how to handle forms, inputs, and submissions in React",
  "duration": 9,
  "difficulty": "beginner",
  "tags": ["react", "forms", "inputs"],
  "prerequisites": ["react-011-usestate"],
  "unlocks": ["react-013-lifting-state"],
  "xp": 90,

  "steps": {
    "intro": {
      "type": "game-intro",
      "title": "Form Power",
      "story": "Forms collect data. React controls how that data flows.",
      "preview": "Inputs, submit, and control."
    },

    "refresher": {
      "type": "markdown",
      "title": "Real-Life Example",
      "content": "# Login Form\n\nYou type:\n- Username\n- Password\n\nClick Submit\n\n➡️ Data is sent\n\n---\n\n## In React\n\nInput ➜ State ➜ Submit handler"
    },

    "concept": {
      "type": "markdown",
      "title": "What is a Form?",
      "content": "A form is a group of inputs that collect user data.\n\nCommon elements:\n- input\n- textarea\n- select\n- button\n\nReact handles forms using **state**."
    },

    "positive": {
      "type": "interactive-code",
      "title": "Basic Form Structure",
      "description": "Simple form with submit handler.",
      "code": "function SimpleForm() {\n  function handleSubmit(e) {\n    e.preventDefault();\n    alert('Form submitted');\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <button type=\"submit\">Submit</button>\n    </form>\n  );\n}\n\nexport default SimpleForm;",
      "showPreview": true,
      "explanation": "e.preventDefault() stops page reload."
    },

    "concept2": {
      "type": "markdown",
      "title": "Controlled Inputs",
      "content": "In React, inputs are usually **controlled**.\n\nThat means:\n- Value comes from state\n- Changes update state\n\nThis gives full control over form data."
    },

    "positive2": {
      "type": "interactive-code",
      "title": "Controlled Input Example",
      "description": "Input value is controlled by state.",
      "code": "import { useState } from 'react';\n\nfunction NameForm() {\n  const [name, setName] = useState('');\n\n  function handleChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    alert(name);\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input value={name} onChange={handleChange} />\n      <button type=\"submit\">Send</button>\n    </form>\n  );\n}\n\nexport default NameForm;",
      "showPreview": true,
      "explanation": "State always holds the input value."
    },

    "negative": {
      "type": "debug-quiz",
      "title": "Form Reload Bug",
      "description": "Page reloads on submit.",
      "code": "<form onSubmit={handleSubmit}>...</form>",
      "question": "What is missing?",
      "options": [
        {
          "id": "a",
          "text": "e.preventDefault()",
          "isCorrect": true,
          "explanation": "Correct. It prevents browser reload."
        },
        {
          "id": "b",
          "text": "useEffect",
          "isCorrect": false,
          "explanation": "useEffect is not needed here."
        }
      ],
      "lesson": "Always prevent default form submission."
    },

    "task": {
      "type": "coding-task",
      "title": "Create Login Form",
      "description": "Build a simple login form.",
      "requirements": [
        "Username input",
        "Password input",
        "Submit handler"
      ],
      "starterCode": "function LoginForm() {\n  return (\n    <form>\n      <input placeholder=\"Username\" />\n      <input type=\"password\" placeholder=\"Password\" />\n      <button>Login</button>\n    </form>\n  );\n}\n\nexport default LoginForm;",
      "solution": "import { useState } from 'react';\n\nfunction LoginForm() {\n  const [user, setUser] = useState('');\n  const [pass, setPass] = useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log(user, pass);\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input value={user} onChange={e => setUser(e.target.value)} />\n      <input type=\"password\" value={pass} onChange={e => setPass(e.target.value)} />\n      <button type=\"submit\">Login</button>\n    </form>\n  );\n}\n\nexport default LoginForm;",
      "hints": [
        "Use two states",
        "Prevent default submit"
      ]
    },

    "challenge": {
      "type": "coding-challenge",
      "title": "Signup Form",
      "description": "Collect and log user data.",
      "requirements": [
        "Name input",
        "Email input",
        "Submit logs all values"
      ],
      "solution": "import { useState } from 'react';\n\nfunction Signup() {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n\n  function submit(e) {\n    e.preventDefault();\n    console.log({ name, email });\n  }\n\n  return (\n    <form onSubmit={submit}>\n      <input onChange={e => setName(e.target.value)} />\n      <input onChange={e => setEmail(e.target.value)} />\n      <button>Submit</button>\n    </form>\n  );\n}\n\nexport default Signup;"
    },

    "memory": {
      "type": "memory-game",
      "title": "Form Memory",
      "pairs": [
        { "concept": "form", "code": "Collect data" },
        { "concept": "controlled input", "code": "State driven" },
        { "concept": "onSubmit", "code": "Handle submit" },
        { "concept": "preventDefault", "code": "Stop reload" }
      ]
    },

    "tower": {
      "type": "tower-defense",
      "concepts": [
        {
          "question": "Which event handles form submit?",
          "options": ["onClick", "onSubmit", "onChange", "onLoad"],
          "correct": 1
        },
        {
          "question": "Controlled input means?",
          "options": [
            "DOM handles value",
            "State controls value",
            "CSS controls input",
            "Browser controls form"
          ],
          "correct": 1
        }
      ],
      "waves": 3
    }
  }
}
