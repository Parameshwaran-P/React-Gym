{
  "id": "react-037-best-practices",
  "title": "React Best Practices",
  "description": "Learn industry-approved best practices to write clean, scalable, and maintainable React code",
  "duration": 16,
  "difficulty": "advanced",
  "tags": ["react", "best-practices", "clean-code", "architecture"],
  "prerequisites": ["react-036-project-full"],
  "unlocks": ["react-038-common-mistakes"],
  "xp": 160,

  "steps": {
    "intro": {
      "type": "game-intro",
      "title": "Write Code Like a Professional",
      "story": "Now you know React. Next step is writing React the right way.",
      "preview": "Clean code survives. Messy code dies."
    },

    "refresher": {
      "type": "markdown",
      "title": "Why Best Practices Matter",
      "content": "# Real World Reality\n\nYour code will be:\n\n- Read by teammates\n- Modified after months\n- Debugged under pressure\n\n---\n\nBest practices reduce bugs and stress."
    },

    "concept": {
      "type": "markdown",
      "title": "Single Responsibility Components",
      "content": "Each component should:\n\n- Do one job\n- Be easy to test\n- Be easy to reuse\n\nBad: One component does everything\n\nGood: Small focused components"
    },

    "positive": {
      "type": "interactive-code",
      "title": "Clean Component Example",
      "description": "Component with one responsibility.",
      "code": "function UserName({ name }) {\n  return <h2>{name}</h2>;\n}\n\nexport default UserName;",
      "showPreview": false,
      "explanation": "Simple, reusable, and readable."
    },

    "concept2": {
      "type": "markdown",
      "title": "Folder Structure",
      "content": "Recommended:\n\n- components/\n- pages/\n- hooks/\n- services/\n- utils/\n- assets/\n\nClear structure helps teams scale."
    },

    "concept3": {
      "type": "markdown",
      "title": "State Management Rules",
      "content": "- Keep state as local as possible\n- Lift state only when needed\n- Avoid unnecessary global state\n- Server is the source of truth"
    },

    "negative": {
      "type": "debug-quiz",
      "title": "Bad State Placement",
      "description": "Everything stored globally.",
      "code": "const [value, setValue] = useContext(AppContext);",
      "question": "What is the issue?",
      "options": [
        {
          "id": "a",
          "text": "Overusing global state",
          "isCorrect": true,
          "explanation": "Global state increases complexity."
        },
        {
          "id": "b",
          "text": "Context is slow",
          "isCorrect": false,
          "explanation": "Misuse is the problem."
        }
      ],
      "lesson": "Local state is always the first choice."
    },

    "concept4": {
      "type": "markdown",
      "title": "Reusable Logic with Hooks",
      "content": "If logic is used in multiple places:\n\n- Extract it into a custom hook\n- Avoid copy-paste\n\nHooks = reusable behavior"
    },

    "positive2": {
      "type": "interactive-code",
      "title": "Custom Hook Example",
      "description": "Encapsulate logic.",
      "code": "function useToggle() {\n  const [value, setValue] = useState(false);\n  const toggle = () => setValue(v => !v);\n  return [value, toggle];\n}\n\nexport default useToggle;",
      "showPreview": false,
      "explanation": "Clean logic reuse."
    },

    "concept5": {
      "type": "markdown",
      "title": "Performance Awareness",
      "content": "- Avoid unnecessary re-renders\n- Use memoization only when needed\n- Measure before optimizing"
    },

    "concept6": {
      "type": "markdown",
      "title": "Naming Conventions",
      "content": "- Components: PascalCase\n- Hooks: useSomething\n- Handlers: handleClick\n- Files match component name"
    },

    "task": {
      "type": "coding-task",
      "title": "Refactor a Component",
      "description": "Improve readability and structure.",
      "requirements": [
        "Split responsibilities",
        "Improve naming",
        "Move logic to hooks",
        "Clean folder structure"
      ],
      "starterCode": "function MessyComponent() {\n  return null;\n}",
      "solution": "Apply best practices learned."
    },

    "challenge": {
      "type": "coding-challenge",
      "title": "Code Review Simulation",
      "description": "Review a teammate's code.",
      "requirements": [
        "Identify bad practices",
        "Suggest improvements",
        "Explain reasoning"
      ],
      "solution": "Think like a senior developer."
    },

    "memory": {
      "type": "memory-game",
      "title": "Best Practices Memory",
      "pairs": [
        { "concept": "Single Responsibility", "code": "one job per component" },
        { "concept": "Custom Hooks", "code": "reuse logic" },
        { "concept": "Local State", "code": "keep it close" },
        { "concept": "Structure", "code": "scalable folders" }
      ]
    },

    "tower": {
      "type": "tower-defense",
      "concepts": [
        {
          "question": "Best default state location?",
          "options": ["global", "redux", "local", "context"],
          "correct": 2
        },
        {
          "question": "Clean code means?",
          "options": [
            "short code",
            "clever tricks",
            "readable and maintainable",
            "less files"
          ],
          "correct": 2
        }
      ],
      "waves": 3
    }
  }
}
