{
  "id": "react-037-best-practices",
  "title": "Best Practices & Architecture",
  "description": "Write clean, scalable, and maintainable React code",
  "duration": 8,
  "difficulty": "advanced",
  "tags": ["react", "architecture", "clean-code"],
  "prerequisites": ["react-036-project-full"],
  "unlocks": ["react-038-common-mistakes"],
  "xp": 160,

  "steps": {
    "intro": {
      "type": "game-intro",
      "title": "Code That Survives",
      "story": "Good code works today. Great code works for years.",
      "preview": "Structure, patterns, and habits used by professionals."
    },

    "concept": {
      "type": "markdown",
      "title": "Why Best Practices Matter",
      "content": "Projects grow.\n\nWithout structure:\n- Bugs increase\n- Features slow down\n- Teams struggle\n\nBest practices prevent this."
    },

    "concept2": {
      "type": "markdown",
      "title": "Component Design Rules",
      "content": "- One responsibility per component\n- Keep components small\n- Prefer composition over inheritance\n- Avoid deeply nested props"
    },

    "architecture": {
      "type": "markdown",
      "title": "Folder Organization",
      "content": "Group by feature, not by type.\n\nExample:\n- user/\n  - UserPage.jsx\n  - userService.js\n  - useUser.js"
    },

    "concept3": {
      "type": "markdown",
      "title": "State Management Rules",
      "content": "- Local state stays local\n- Global state only when shared\n- Avoid unnecessary state\n- Derive values when possible"
    },

    "positive": {
      "type": "interactive-code",
      "title": "Good Component Example",
      "description": "Small and focused component.",
      "code": "function UserName({ name }) {\n  return <p>{name}</p>;\n}\n\nexport default UserName;",
      "showPreview": false,
      "explanation": "This component has a single responsibility."
    },

    "negative": {
      "type": "debug-quiz",
      "title": "Bad Practice Example",
      "description": "One component doing too much.",
      "code": "function UserPage() {\n  // fetch user\n  // handle auth\n  // render UI\n  // manage modal\n}",
      "question": "What is the issue?",
      "options": [
        {
          "id": "a",
          "text": "Too many responsibilities",
          "isCorrect": true,
          "explanation": "Large components are hard to maintain."
        },
        {
          "id": "b",
          "text": "Missing CSS",
          "isCorrect": false,
          "explanation": "Styling is not the core issue."
        }
      ],
      "lesson": "Split logic into reusable parts."
    },

    "task": {
      "type": "coding-task",
      "title": "Refactor Component",
      "description": "Split a large component into smaller ones.",
      "requirements": [
        "Extract UI components",
        "Move logic to hooks",
        "Reuse shared logic"
      ],
      "starterCode": "function BigComponent() {\n  // everything here\n}",
      "solution": "Break into smaller components and hooks",
      "hints": [
        "Look for repeated logic",
        "Move data fetching out"
      ]
    },

    "challenge": {
      "type": "coding-challenge",
      "title": "Feature-Based Structure",
      "description": "Reorganize project structure.",
      "requirements": [
        "Group files by feature",
        "Remove unused code",
        "Simplify imports"
      ],
      "solution": "Each feature owns its files"
    },

    "memory": {
      "type": "memory-game",
      "title": "Best Practices Memory",
      "pairs": [
        { "concept": "single responsibility", "code": "one job" },
        { "concept": "feature folders", "code": "group by feature" },
        { "concept": "local state", "code": "keep it close" },
        { "concept": "global state", "code": "share carefully" }
      ]
    },

    "tower": {
      "type": "tower-defense",
      "concepts": [
        {
          "question": "Best component size?",
          "options": ["Very large", "Small and focused", "One file app", "Depends on CSS"],
          "correct": 1
        },
        {
          "question": "Best folder strategy?",
          "options": ["By file type", "By feature", "Random", "Single folder"],
          "correct": 1
        }
      ],
      "waves": 3
    }
  }
}
