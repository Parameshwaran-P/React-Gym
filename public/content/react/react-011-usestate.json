{
  "id": "react-011-usestate",
  "title": "useState Hook",
  "description": "Learn how React remembers values and updates the screen",
  "duration": 9,
  "difficulty": "beginner",
  "tags": ["react", "hooks", "state"],
  "prerequisites": ["react-010-events"],
  "unlocks": ["react-012-conditional-rendering"],
  "xp": 90,

  "steps": {
    "intro": {
      "type": "game-intro",
      "title": "üß† Give Memory to React",
      "story": "Your app forgets everything after one click. Let's give it memory.",
      "preview": "Counters, inputs, and live updates start here."
    },

    "refresher": {
      "type": "markdown",
      "title": "üß∏ Real-Life Story: Toy Box",
      "content": "# Toy Box Memory\n\nYou put 1 toy inside\n‚û°Ô∏è Box remembers\n\nYou add another toy\n‚û°Ô∏è Now it has 2\n\n---\n\nReact components also need a **box to remember values**.\n\nThat box is called **state**."
    },

    "concept": {
      "type": "markdown",
      "title": "üß† What is State?",
      "content": "State means **data that can change**.\n\nExamples:\n- Counter number\n- Input text\n- Like count\n\nReact uses **useState** to manage this memory."
    },

    "syntax": {
      "type": "markdown",
      "title": "üß© useState Syntax",
      "content": "```\nconst [value, setValue] = useState(initialValue);\n```\n\nThink like this:\n- `value` ‚Üí what we remember\n- `setValue` ‚Üí how we change it\n- `initialValue` ‚Üí starting value"
    },

    "positive": {
      "type": "interactive-code",
      "title": "‚úÖ Simple Counter",
      "description": "Click button to increase number.",
      "code": "import { useState } from 'react';\n\nfunction Counter() {\n  const [count, setCount] = useState(0);\n\n  function increase() {\n    setCount(count + 1);\n  }\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={increase}>Add</button>\n    </div>\n  );\n}\n\nexport default Counter;",
      "showPreview": true,
      "explanation": "React remembers `count` even after re-render."
    },

    "concept2": {
      "type": "markdown",
      "title": "‚ö†Ô∏è Important Rule",
      "content": "## ‚ùå Wrong Way\n\n```\ncount = count + 1;\n```\n\nReact will NOT update UI.\n\n---\n\n## ‚úÖ Correct Way\n\n```\nsetCount(count + 1);\n```\n\nAlways use setter function."
    },

    "negative": {
      "type": "debug-quiz",
      "title": "üêõ Why UI Not Updating?",
      "description": "The number changes but UI does not.",
      "code": "function Test() {\n  let count = 0;\n\n  function add() {\n    count = count + 1;\n  }\n\n  return <button onClick={add}>{count}</button>;\n}",
      "question": "What is missing?",
      "options": [
        {
          "id": "a",
          "text": "useState is not used",
          "isCorrect": true,
          "explanation": "Correct. React cannot track normal variables."
        },
        {
          "id": "b",
          "text": "Button syntax wrong",
          "isCorrect": false,
          "explanation": "Button syntax is fine."
        }
      ],
      "lesson": "Only state changes trigger re-render."
    },

    "positive2": {
      "type": "interactive-code",
      "title": "‚úÖ Input with State",
      "description": "React remembers what you type.",
      "code": "import { useState } from 'react';\n\nfunction NameInput() {\n  const [name, setName] = useState('');\n\n  return (\n    <div>\n      <input\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n        placeholder=\"Enter name\"\n      />\n      <p>Hello {name}</p>\n    </div>\n  );\n}\n\nexport default NameInput;",
      "showPreview": true,
      "explanation": "State connects input and UI."
    },

    "task": {
      "type": "coding-task",
      "title": "üõ†Ô∏è Like Button",
      "description": "Increase likes on click.",
      "requirements": [
        "Create state",
        "Button click increases count",
        "Display count"
      ],
      "starterCode": "function Like() {\n  return (\n    <button>Like</button>\n  );\n}\n\nexport default Like;",
      "solution": "import { useState } from 'react';\n\nfunction Like() {\n  const [likes, setLikes] = useState(0);\n\n  return (\n    <button onClick={() => setLikes(likes + 1)}>\n      Likes: {likes}\n    </button>\n  );\n}\n\nexport default Like;",
      "hints": [
        "useState needed",
        "Use setter function"
      ]
    },

    "challenge": {
      "type": "coding-challenge",
      "title": "üèÜ Challenge: Reset Counter",
      "description": "Add reset functionality.",
      "requirements": [
        "Increase button",
        "Reset button sets value to 0"
      ],
      "solution": "import { useState } from 'react';\n\nfunction ResetCounter() {\n  const [count, setCount] = useState(0);\n\n  return (\n    <div>\n      <p>{count}</p>\n      <button onClick={() => setCount(count + 1)}>Add</button>\n      <button onClick={() => setCount(0)}>Reset</button>\n    </div>\n  );\n}\n\nexport default ResetCounter;"
    },

    "memory": {
      "type": "memory-game",
      "title": "State Memory",
      "pairs": [
        { "concept": "useState", "code": "React memory" },
        { "concept": "state", "code": "Changeable data" },
        { "concept": "setter", "code": "Updates state" },
        { "concept": "re-render", "code": "UI updates" }
      ]
    },

    "tower": {
      "type": "tower-defense",
      "concepts": [
        {
          "question": "Which updates UI?",
          "options": ["variable", "setState", "console.log", "props"],
          "correct": 1
        },
        {
          "question": "State value is changed using?",
          "options": ["assignment", "setter", "loop", "condition"],
          "correct": 1
        }
      ],
      "waves": 3
    }
  }
}
