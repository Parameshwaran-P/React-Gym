{
  "id": "react-013-lifting-state",
  "title": "Lifting State Up",
  "description": "Share data between components by lifting state to a common parent",
  "duration": 8,
  "difficulty": "beginner",
  "tags": ["react", "state", "props", "architecture"],
  "prerequisites": ["react-012-forms"],
  "unlocks": ["react-014-useeffect"],
  "xp": 90,

  "steps": {
    "intro": {
      "type": "game-intro",
      "title": "Sharing is Power",
      "story": "Two components want the same data. Who should own it?",
      "preview": "Learn how React shares state correctly."
    },

    "story": {
      "type": "markdown",
      "title": "Real Life Example: TV Remote",
      "content": "One TV.\n\nTwo buttons:\nâ€¢ Volume Up\nâ€¢ Volume Down\n\nButtons are separate.\nBut **volume value lives in TV**, not buttons.\n\nðŸ‘‰ State must live in the **common parent**."
    },

    "concept": {
      "type": "markdown",
      "title": "What is Lifting State?",
      "content": "Lifting state means:\n\nâ€¢ Move state **up** to parent\nâ€¢ Pass data using **props**\nâ€¢ Child components only **use** it"
    },

    "positive": {
      "type": "interactive-code",
      "title": "Correct Way",
      "description": "State is in parent, shared with children.",
      "code": "import { useState } from 'react';\n\nfunction Parent() {\n  const [count, setCount] = useState(0);\n\n  return (\n    <div>\n      <Display count={count} />\n      <Button setCount={setCount} count={count} />\n    </div>\n  );\n}\n\nfunction Display({ count }) {\n  return <p>Count: {count}</p>;\n}\n\nfunction Button({ count, setCount }) {\n  return <button onClick={() => setCount(count + 1)}>+</button>;\n}\n\nexport default Parent;",
      "showPreview": true,
      "explanation": "Parent owns state. Children communicate through props."
    },

    "negative": {
      "type": "debug-quiz",
      "title": "Wrong Design",
      "description": "Why is this wrong?",
      "code": "function ChildA() {\n  const [count, setCount] = useState(0);\n}\n\nfunction ChildB() {\n  const [count, setCount] = useState(0);\n}",
      "question": "What is the problem?",
      "options": [
        {
          "id": "a",
          "text": "State is duplicated",
          "isCorrect": true,
          "explanation": "Correct. Both children have separate states."
        },
        {
          "id": "b",
          "text": "useState cannot be used twice",
          "isCorrect": false,
          "explanation": "useState can be used multiple times."
        }
      ],
      "lesson": "Shared data should not be duplicated."
    },

    "task": {
      "type": "coding-task",
      "title": "Temperature Control",
      "description": "Two buttons control same temperature.",
      "requirements": [
        "State in parent",
        "Increase and decrease buttons",
        "Display temperature"
      ],
      "starterCode": "function App() {\n  return <div />;\n}\n\nexport default App;",
      "solution": "import { useState } from 'react';\n\nfunction App() {\n  const [temp, setTemp] = useState(20);\n\n  return (\n    <div>\n      <p>Temperature: {temp}</p>\n      <button onClick={() => setTemp(temp + 1)}>+</button>\n      <button onClick={() => setTemp(temp - 1)}>-</button>\n    </div>\n  );\n}\n\nexport default App;"
    },

    "memory": {
      "type": "memory-game",
      "title": "Lift Match",
      "pairs": [
        { "concept": "Shared state", "code": "Parent" },
        { "concept": "Props", "code": "Data passing" },
        { "concept": "Children", "code": "No ownership" }
      ]
    }
  }
}
